{% extends "base.html" %}
{% block head %}
<link rel="stylesheet" href="{{url_for('static', filename='css/minecraft.css')}}">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>

{% endblock %}

{% block content %}
    <div class="bg-neutral-800 min-h-screen">
        <nav id="topbar" class="flex justify-between items items-center py-3 px-4">
            <h1 class="text-4xl">Bateria</h1>
            <div class="flex items-center gap-3">
                <img src="{{url_for('static', filename='images/user_icon.svg')}}" class=""/>
                <div class="flex flex-col gap-1">
                    <span class="text-base font-bold"> Mateus Henrique </span>
                    <div class="flex items-center gap-2">
                        <img src="{{url_for('static', filename='images/calendar.svg')}}" class=""/>
                        <span class="text-sm" id="datestring"></span>
                        <img src="{{url_for('static', filename='images/clock.svg')}}" class=""/>
                        <span class="text-sm" id="timestring"></span>
                    </div>
                </div>

            </div>
        </nav>

  
  <div id="frame 31" class="inline-flex flex-col items-center gap-5">

    <div id="frame 33" class="flex w-[1626px] justify-center items-start gap-5">

      <div id="frame 44" class="flex flex-col justify-center items-center gap-5">
        <div id="frame 36" class="flex h-[397px] px-5 justify-center items-center gap-5 ">
            foto bateira
        </div>

        <div id="frame 34" class="flex justify-center items-center gap-4"> 
            <div id="power" class="flex px-3 h-[75px] items-center justify-center flex-col gap-[10px] rounded-[10000px] bg-violet-600">
              <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 44 44" fill="none">
                <path d="M22 44C18.9933 44 16.1517 43.4225 13.475 42.2675C10.7983 41.1125 8.46083 39.5358 6.4625 37.5375C4.46417 35.5392 2.8875 33.2017 1.7325 30.525C0.5775 27.8483 0 25.0067 0 22C0 18.92 0.586667 16.0508 1.76 13.3925C2.93333 10.7342 4.51 8.415 6.49 6.435L8.8 8.745C7.07667 10.4317 5.72917 12.4117 4.7575 14.685C3.78583 16.9583 3.3 19.3967 3.3 22C3.3 27.17 5.12417 31.5792 8.7725 35.2275C12.4208 38.8758 16.83 40.7 22 40.7C27.2067 40.7 31.625 38.8758 35.255 35.2275C38.885 31.5792 40.7 27.17 40.7 22C40.7 19.3967 40.2233 16.9583 39.27 14.685C38.3167 12.4117 36.9783 10.4317 35.255 8.745L37.565 6.435C39.545 8.415 41.1125 10.7342 42.2675 13.3925C43.4225 16.0508 44 18.92 44 22C44 25.0067 43.4225 27.8483 42.2675 30.525C41.1125 33.2017 39.545 35.5392 37.565 37.5375C35.585 39.5358 33.2567 41.1125 30.58 42.2675C27.9033 43.4225 25.0433 44 22 44ZM20.35 24.2V0H23.65V24.2H20.35Z" fill="#E8EAED"/>
              </svg>
            </div>

            <div id="settings" class="flex px-3 h-[75px] items-center justify-center flex-col gap-[10px] rounded-[10000px] bg-violet-600">
              <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 44 44" fill="none">
                <path d="M16.94 44L15.84 37.07C15.1433 36.8133 14.41 36.465 13.64 36.025C12.87 35.585 12.1917 35.1267 11.605 34.65L5.115 37.62L0 28.6L5.94 24.255C5.86667 23.925 5.82083 23.5492 5.8025 23.1275C5.78417 22.7058 5.775 22.33 5.775 22C5.775 21.67 5.78417 21.2942 5.8025 20.8725C5.82083 20.4508 5.86667 20.075 5.94 19.745L0 15.4L5.115 6.38L11.605 9.35C12.1917 8.87333 12.87 8.415 13.64 7.975C14.41 7.535 15.1433 7.205 15.84 6.985L16.94 0H27.06L28.16 6.93C28.8567 7.18667 29.5992 7.52583 30.3875 7.9475C31.1758 8.36917 31.845 8.83667 32.395 9.35L38.885 6.38L44 15.4L38.06 19.635C38.1333 20.0017 38.1792 20.3958 38.1975 20.8175C38.2158 21.2392 38.225 21.6333 38.225 22C38.225 22.3667 38.2158 22.7517 38.1975 23.155C38.1792 23.5583 38.1333 23.9433 38.06 24.31L44 28.6L38.885 37.62L32.395 34.65C31.8083 35.1267 31.1392 35.5942 30.3875 36.0525C29.6358 36.5108 28.8933 36.85 28.16 37.07L27.06 44H16.94ZM19.58 40.7H24.42L25.19 34.54C26.4 34.2467 27.5458 33.7883 28.6275 33.165C29.7092 32.5417 30.69 31.79 31.57 30.91L37.4 33.44L39.6 29.48L34.43 25.685C34.5767 25.0617 34.6958 24.4475 34.7875 23.8425C34.8792 23.2375 34.925 22.6233 34.925 22C34.925 21.3767 34.8883 20.7625 34.815 20.1575C34.7417 19.5525 34.6133 18.9383 34.43 18.315L39.6 14.52L37.4 10.56L31.57 13.09C30.7267 12.1367 29.7733 11.3392 28.71 10.6975C27.6467 10.0558 26.4733 9.64333 25.19 9.46L24.42 3.3H19.58L18.81 9.46C17.5633 9.71667 16.3992 10.1567 15.3175 10.78C14.2358 11.4033 13.2733 12.1733 12.43 13.09L6.6 10.56L4.4 14.52L9.57 18.315C9.42333 18.9383 9.30417 19.5525 9.2125 20.1575C9.12083 20.7625 9.075 21.3767 9.075 22C9.075 22.6233 9.12083 23.2375 9.2125 23.8425C9.30417 24.4475 9.42333 25.0617 9.57 25.685L4.4 29.48L6.6 33.44L12.43 30.91C13.31 31.79 14.2908 32.5417 15.3725 33.165C16.4542 33.7883 17.6 34.2467 18.81 34.54L19.58 40.7ZM22 29.15C23.98 29.15 25.6667 28.4533 27.06 27.06C28.4533 25.6667 29.15 23.98 29.15 22C29.15 20.02 28.4533 18.3333 27.06 16.94C25.6667 15.5467 23.98 14.85 22 14.85C20.02 14.85 18.3333 15.5467 16.94 16.94C15.5467 18.3333 14.85 20.02 14.85 22C14.85 23.98 15.5467 25.6667 16.94 27.06C18.3333 28.4533 20.02 29.15 22 29.15Z" fill="#E8EAED"/>
              </svg>
            </div>

            <div id="viewer" class="flex px-3 h-[75px] items-center justify-center flex-col gap-[10px] rounded-[10000px] bg-violet-600">
                <svg xmlns="http://www.w3.org/2000/svg" width="44" height="30" viewBox="0 0 44 30" fill="none">
                  <path d="M22.006 23.5C24.3687 23.5 26.375 22.673 28.025 21.019C29.675 19.365 30.5 17.3567 30.5 14.994C30.5 12.6313 29.673 10.625 28.019 8.975C26.365 7.325 24.3567 6.5 21.994 6.5C19.6313 6.5 17.625 7.327 15.975 8.981C14.325 10.635 13.5 12.6433 13.5 15.006C13.5 17.3687 14.327 19.375 15.981 21.025C17.635 22.675 19.6433 23.5 22.006 23.5ZM21.988 20.6C20.4293 20.6 19.1083 20.0543 18.025 18.963C16.9417 17.872 16.4 16.547 16.4 14.988C16.4 13.4293 16.9457 12.1083 18.037 11.025C19.128 9.94167 20.453 9.4 22.012 9.4C23.5707 9.4 24.8917 9.94567 25.975 11.037C27.0583 12.128 27.6 13.453 27.6 15.012C27.6 16.5707 27.0543 17.8917 25.963 18.975C24.872 20.0583 23.547 20.6 21.988 20.6ZM22 30C17.1333 30 12.7333 28.6167 8.8 25.85C4.86667 23.0833 1.93333 19.4667 0 15C1.93333 10.5333 4.86667 6.91667 8.8 4.15C12.7333 1.38333 17.1333 0 22 0C26.8667 0 31.2667 1.38333 35.2 4.15C39.1333 6.91667 42.0667 10.5333 44 15C42.0667 19.4667 39.1333 23.0833 35.2 25.85C31.2667 28.6167 26.8667 30 22 30ZM21.9915 27C26.0305 27 29.7417 25.9083 33.125 23.725C36.5083 21.5417 39.0833 18.6333 40.85 15C39.0833 11.3667 36.5112 8.45833 33.1335 6.275C29.7558 4.09167 26.0475 3 22.0085 3C17.9695 3 14.2583 4.09167 10.875 6.275C7.49167 8.45833 4.9 11.3667 3.1 15C4.9 18.6333 7.48883 21.5417 10.8665 23.725C14.2442 25.9083 17.9525 27 21.9915 27Z" fill="#E8EAED"/>
                </svg>
            </div>

        </div>
      </div>

      <div id="frame 35" class="flex p-5 flex-col items-center gap-5 flex-1 self-stretch rounded-[20px] border-2 border-solid border-white">
        <div id="frame 39" class="flex p-[10px] items-start gap-[10px] self-stretch">
          <span class=" text-4xl">Tensão</span>
        </div>
        <div id="chat-tensão" class=" self-stretch flex-1 ">
          <canvas id="myChart" width="400" height="400"></canvas>
          <script>
            </script>
        </div>
      </div>

      <div id="frame 45" class="flex p-5 flex-col items-center gap-5 flex-1 self-stretch rounded-[20px] border-2 border-solid border-white">
        <div id="frame 39" class="flex p-[10px] items-start gap-[10px] self-stretch">
          <span class=" text-4xl">Corrente
          
          </span>
        </div>
        <div id="chat-tensão" class=" self-stretch flex-1 ">
          <canvas id="chart2" width="400" height="400"></canvas>
          <script>

            </script>
        
        </div>
      </div>
     
    </div>
    
    <div id="frame 55" class="flex items-start gap-5 self-stretch">
      <div id="frame 46" class="flex p-20 flex-col items-center gap-4 flex-1 rounded-[20px] border-2 border-solid border-white ">
        <div id="frame 38" class="flex p-[10px] justify-between items-start self-stretch border-b-2 border-neutral-600">
            <span class="text-white font-inter text-2xl font-medium leading-normal">Capacidade:</span>
            <span class="text-white font-inter text-2xl font-medium leading-normal">{{ battery.capacity }} Ah</span>
        </div>

        <div id="frame 48" class="flex p-[10px] justify-between items-start self-stretch border-b-2 border-neutral-600">
            <span class="text-white font-inter text-2xl font-medium leading-normal">Porcentagem de Saúde:</span>
            <span class="text-white font-inter text-2xl font-medium leading-normal">{{ battery.health_percent }} %</span>
        </div>

        <div id="frame 49" class="flex p-[10px] justify-between items-start self-stretch border-b-2 border-neutral-600">
            <span class="text-white font-inter text-2xl font-medium leading-normal">Percentual de Carga:</span>
            <span class="text-white font-inter text-2xl font-medium leading-normal">{{ battery.charged_percent }} %</span>
        </div>

        <div id="frame 50" class="flex p-[10px] justify-between items-start self-stretch border-b-2 border-neutral-600">
            <span class="text-white font-inter text-2xl font-medium leading-normal">Máxima Tensão de Entrada:</span>
            <span class="text-white font-inter text-2xl font-medium leading-normal">{{ battery.max_in_voltage }} V</span>
        </div>

        <div id="frame 51" class="flex p-[10px] justify-between items-start self-stretch border-b-2 border-neutral-600">
            <span class="text-white font-inter text-2xl font-medium leading-normal">Mínima Tensão de Saída:</span>
            <span class="text-white font-inter text-2xl font-medium leading-normal">{{ battery.min_out_voltage }} V</span>
        </div>

      </div>

      <div id="frame 47" class="flex p-20 flex-col items-center gap-4 flex-1 rounded-[20px] border-2 border-solid border-white ">
        <div id="frame 38" class="flex p-[10px] justify-between items-start self-stretch border-b-2 border-neutral-600">
            <span class="text-white font-inter text-2xl font-medium leading-normal">Estado:</span>
            <span class="text-white font-inter text-2xl font-medium leading-normal">{{ battery.state }}</span>
        </div>
        <div id="frame 48" class="flex p-[10px] justify-between items-start self-stretch border-b-2 border-neutral-600">
            <span class="text-white font-inter text-2xl font-medium leading-normal">Relé:</span>
            <span class="text-white font-inter text-2xl font-medium leading-normal">{{ battery.relay_status }}</span>
        </div>
       
      </div>
    </div>
  <div>
    <span>Modelo:</span> {{ battery.model }}<br>
    <span>Fabricante:</span> {{ battery.manufacturer }}<br>
  </div>
</div>
  <script>
    var socket = io();

    socket.on('connect', () => {
        console.log('Connected to WebSocket server');
    });
  </script>

  <script src="{{url_for('static', filename='scripts/minecraft_button.js')}}"></script>


  {% endblock %}